-- CREATE DEVELOPMENT USER
CREATE USER DEVUSER PASSWORD Password1;

-- ENABLE NATIVE DEVELOPMENT VIA REPOSITORY
GRANT EXECUTE ON REPOSITORY_REST TO DEVUSER;
GRANT REPO.READ, REPO.EDIT_NATIVE_OBJECTS, REPO.ACTIVATE_NATIVE_OBJECTS, REPO.MAINTAIN_NATIVE_PACKAGES ON ".REPO_PACKAGE_ROOT" TO DEVUSER;

-- AUTHORIZATIONS FOR DEBUGGING, WEB IDE, AND SQL CONNECTION CONFIGURATION ETC. 
CALL GRANT_ACTIVATED_ROLE('sap.hana.xs.ide.roles::Developer','DEVUSER');
CALL GRANT_ACTIVATED_ROLE('sap.hana.xs.ide.roles::TraceViewer','DEVUSER');
CALL GRANT_ACTIVATED_ROLE('sap.hana.xs.admin.roles::JobAdministrator','DEVUSER');
CALL GRANT_ACTIVATED_ROLE('sap.hana.xs.admin.roles::RuntimeConfAdministrator','DEVUSER');
CALL GRANT_ACTIVATED_ROLE('sap.hana.xs.admin.roles::HTTPDestAdministrator','DEVUSER');
CALL GRANT_ACTIVATED_ROLE('sap.hana.xs.admin.roles::SQLCCAdministrator','DEVUSER');
CALL GRANT_ACTIVATED_ROLE('sap.hana.xs.debugger::Debugger','DEVUSER');

-- GRANT ACCESS TO APPLICATION SCHEMA
GRANT CREATE ANY, ALTER, DROP, EXECUTE, SELECT, INSERT, UPDATE, DELETE, INDEX, DEBUG, TRIGGER, REFERENCES ON SCHEMA LIVE2 TO DEVUSER;

-- SHOW FRIENDLY ERROR MESSAGES ON DEV SERVER
ALTER SYSTEM ALTER CONFIGURATION ('xsengine.ini', 'SYSTEM') SET ('httpserver', 'developer_mode') = 'true' WITH RECONFIGURE;

-- ENABLE XS DEBUGGING ON DEV SERVER
ALTER SYSTEM ALTER CONFIGURATION ('xsengine.ini', 'SYSTEM') SET ('debugger', 'enabled') = 'true' WITH RECONFIGURE;
